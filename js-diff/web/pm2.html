<html>
<head>
<link type='text/css' href='./resources/multidiff.css' rel='stylesheet'>
<link href='https://swisnl.github.io/jQuery-contextMenu/dist/jquery.contextMenu.css' rel='stylesheet' type='text/css' />
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'><script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='https://swisnl.github.io/jQuery-contextMenu/dist/jquery.contextMenu.js' type='text/javascript'></script>
<script src='https://swisnl.github.io/jQuery-contextMenu/dist/jquery.ui.position.min.js' type='text/javascript'></script>
</head>
<body>
<table border='0'>
<colgroup>
<col width='44'>
<col>
<col width='44'>
<col>
</colgroup>
<tbody>
<tr class='code'>
<td class='line'>1</td><td>/**</td>
<td class='line'>1</td><td>/**</td>
</tr><tr class='code'>
<td class='line'>2</td><td> * Copyright 2013 the PM2 project authors. All rights reserved.</td>
<td class='line'>2</td><td> * Copyright 2013 the PM2 project authors. All rights reserved.</td>
</tr><tr class='code'>
<td class='line'>3</td><td> * Use of this source code is governed by a license that</td>
<td class='line'>3</td><td> * Use of this source code is governed by a license that</td>
</tr><tr class='code'>
<td class='line'>4</td><td> * can be found in the LICENSE file.</td>
<td class='line'>4</td><td> * can be found in the LICENSE file.</td>
</tr><tr class='code'>
<td class='line'>5</td><td> */</td>
<td class='line'>5</td><td> */</td>
</tr><tr class='code'>
<td class='line'>6</td><td></td>
<td class='line'>6</td><td></td>
</tr><tr class='code'>
<td class='line'>7</td><td>var CLI                  = module.exports = {};</td>
<td class='line'>7</td><td>var <span class='context-menu DENV-DEF' data-address='64'><span class='context-menu DVAL-USE' data-address='144'>CLI</span></span>                  = <span class='context-menu DENV-USE' data-address='112'><span class='context-menu DVAL-USE' data-address=''>module</span></span>.<span class='context-menu DVAL-USE' data-address='144'>exports</span> = <span class='context-menu DVAL-DEF' data-address='144'>{</span><span class='context-menu DVAL-DEF' data-address='144'>}</span>;</td>
</tr><tr class='code'>
<td class='line'>8</td><td></td>
<td class='line'>8</td><td></td>
</tr><tr class='code'>
<td class='line'>9</td><td>var commander            = require('commander');</td>
<td class='line'>9</td><td>var <span class='context-menu DENV-DEF' data-address='192'><span class='context-menu DVAL-USE' data-address='208'>commander</span></span>            = <span class='context-menu DVAL-DEF' data-address='208'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='240'>'commander'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>10</td><td>var fs                   = require('fs');</td>
<td class='line'>10</td><td>var <span class='context-menu DENV-DEF' data-address='288'><span class='context-menu DVAL-USE' data-address='304'>fs</span></span>                   = <span class='context-menu DVAL-DEF' data-address='304'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='336'>'fs'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>11</td><td>var path                 = require('path');</td>
<td class='line'>11</td><td>var <span class='context-menu DENV-DEF' data-address='384'><span class='context-menu DVAL-USE' data-address='400'>path</span></span>                 = <span class='context-menu DVAL-DEF' data-address='400'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='432'>'path'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>12</td><td>var async                = require('async');</td>
<td class='line'>12</td><td>var <span class='context-menu DENV-DEF' data-address='480'><span class='context-menu DVAL-USE' data-address='496'>async</span></span>                = <span class='context-menu DVAL-DEF' data-address='496'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='528'>'async'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>13</td><td>var debug                = require('debug')('pm2:monit');</td>
<td class='line'>13</td><td>var <span class='context-menu DENV-DEF' data-address='576'><span class='context-menu DVAL-USE' data-address='592'>debug</span></span>                = <span class='context-menu DVAL-DEF' data-address='592'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='640'>'debug'</span>)(<span class='context-menu DVAL-DEF' data-address='656'>'pm2:monit'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>14</td><td>var util                 = require('util');</td>
<td class='line'>14</td><td>var <span class='context-menu DENV-DEF' data-address='704'><span class='context-menu DVAL-USE' data-address='720'>util</span></span>                 = <span class='context-menu DVAL-DEF' data-address='720'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='752'>'util'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>15</td><td>var chalk                = require('chalk');</td>
<td class='line'>15</td><td>var <span class='context-menu DENV-DEF' data-address='800'><span class='context-menu DVAL-USE' data-address='816'>chalk</span></span>                = <span class='context-menu DVAL-DEF' data-address='816'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='848'>'chalk'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>16</td><td>var exec                 = require('child_process').exec;</td>
<td class='line'>16</td><td>var <span class='context-menu DENV-DEF' data-address='896'><span class='context-menu DVAL-USE' data-address=''>exec</span></span>                 = <span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='960'>'child_process'</span>).exec;</td>
</tr><tr class='code'>
<td class='line'>17</td><td>var p                    = path;</td>
<td class='line'>17</td><td>var <span class='context-menu DENV-DEF' data-address='1024'><span class='context-menu DVAL-USE' data-address='400'>p</span></span>                    = <span class='context-menu DENV-DEF' data-address='384'><span class='context-menu DVAL-USE' data-address='400'>path</span></span>;</td>
</tr><tr class='code'>
<td class='line'>18</td><td></td>
<td class='line'>18</td><td></td>
</tr><tr class='code'>
<td class='line'>19</td><td>var cst                  = require('../constants.js');</td>
<td class='line'>19</td><td>var <span class='context-menu DENV-DEF' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>                  = <span class='context-menu DVAL-DEF' data-address='1104'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='1136'>'../constants.js'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>20</td><td></td>
<td class='line'>20</td><td></td>
</tr><tr class='code'>
<td class='line'>21</td><td>var Satan                = require('./Satan');</td>
<td class='line'>21</td><td>var <span class='context-menu DENV-DEF' data-address='1184'><span class='context-menu DVAL-USE' data-address='1200'>Satan</span></span>                = <span class='context-menu DVAL-DEF' data-address='1200'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='1232'>'./Satan'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>22</td><td>var Common               = require('./Common');</td>
<td class='line'>22</td><td>var <span class='context-menu DENV-DEF' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'>Common</span></span>               = <span class='context-menu DVAL-DEF' data-address='1296'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='1328'>'./Common'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>23</td><td></td>
<td class='line'>23</td><td></td>
</tr><tr class='code'>
<td class='line'>24</td><td>var InteractorDaemonizer = require('./Interactor/InteractorDaemonizer');</td>
<td class='line'>24</td><td>var <span class='context-menu DENV-DEF' data-address='1376'><span class='context-menu DVAL-USE' data-address='1392'>InteractorDaemonizer</span></span> = <span class='context-menu DVAL-DEF' data-address='1392'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='1424'>'./Interactor/InteractorDaemonizer'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>25</td><td>var Config               = require('./tools/Config');</td>
<td class='line'>25</td><td>var <span class='context-menu DENV-DEF' data-address='1472'><span class='context-menu DVAL-USE' data-address='1488'>Config</span></span>               = <span class='context-menu DVAL-DEF' data-address='1488'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='1520'>'./tools/Config'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>26</td><td>var Utility              = require('./Utility.js');</td>
<td class='line'>26</td><td>var <span class='context-menu DENV-DEF' data-address='1568'><span class='context-menu DVAL-USE' data-address='1584'>Utility</span></span>              = <span class='context-menu DVAL-DEF' data-address='1584'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='1616'>'./Utility.js'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>27</td><td></td>
<td class='line'>27</td><td></td>
</tr><tr class='code'>
<td class='line'>28</td><td>var Modularizer          = require('./Modularizer.js');</td>
<td class='line'>28</td><td>var <span class='context-menu DENV-DEF' data-address='1664'><span class='context-menu DVAL-USE' data-address='1680'>Modularizer</span></span>          = <span class='context-menu DVAL-DEF' data-address='1680'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='1712'>'./Modularizer.js'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>29</td><td>var Configuration        = require('../lib/Configuration.js');</td>
<td class='line'>29</td><td>var <span class='context-menu DENV-DEF' data-address='1760'><span class='context-menu DVAL-USE' data-address='1776'>Configuration</span></span>        = <span class='context-menu DVAL-DEF' data-address='1776'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='1808'>'../lib/Configuration.js'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>30</td><td></td>
<td class='line'>30</td><td></td>
</tr><tr class='code'>
<td class='line'>31</td><td>var UX        = require('./CLI/CliUx');</td>
<td class='line'>31</td><td>var <span class='context-menu DENV-DEF' data-address='1856'><span class='context-menu DVAL-USE' data-address='1872'>UX</span></span>        = <span class='context-menu DVAL-DEF' data-address='1872'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='1904'>'./CLI/CliUx'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>32</td><td>var Log       = require('./CLI/Log');</td>
<td class='line'>32</td><td>var <span class='context-menu DENV-DEF' data-address='1952'><span class='context-menu DVAL-USE' data-address='1968'>Log</span></span>       = <span class='context-menu DVAL-DEF' data-address='1968'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='2000'>'./CLI/Log'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>33</td><td>var CLIDeploy = require('./CLI/Deploy.js');</td>
<td class='line'>33</td><td>var <span class='context-menu DENV-DEF' data-address='2048'><span class='context-menu DVAL-USE' data-address='2064'>CLIDeploy</span></span> = <span class='context-menu DVAL-DEF' data-address='2064'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span>(<span class='context-menu DVAL-DEF' data-address='2096'>'./CLI/Deploy.js'</span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>34</td><td></td>
<td class='line'>34</td><td></td>
</tr><tr class='code'>
<td class='line'>35</td><td>/**</td>
<td class='line'>35</td><td>/**</td>
</tr><tr class='code'>
<td class='line'>36</td><td> * Get version of the daemonized PM2</td>
<td class='line'>36</td><td> * Get version of the daemonized PM2</td>
</tr><tr class='code'>
<td class='line'>37</td><td> * @method getVersion</td>
<td class='line'>37</td><td> * @method getVersion</td>
</tr><tr class='code'>
<td class='line'>38</td><td> * @callback cb</td>
<td class='line'>38</td><td> * @callback cb</td>
</tr><tr class='code'>
<td class='line'>39</td><td> */</td>
<td class='line'>39</td><td> */</td>
</tr><tr class='code'>
<td class='line'>40</td><td>CLI.getVersion = function(cb) {</td>
<td class='line'>40</td><td><span class='context-menu DENV-USE' data-address='64'><span class='context-menu DVAL-USE' data-address='144'>CLI</span></span>.<span class='context-menu DVAL-USE' data-address='2192'>getVersion</span> = <span class='context-menu CALL-USE' data-address='15600'><span class='context-menu DVAL-DEF' data-address='2192'>function</span>(<span class='context-menu DENV-DEF' data-address='2208'><span class='context-menu DVAL-USE' data-address='15664'><span class='context-menu VAL-USE' data-address='15664'>cb</span></span></span>) {</span></td>
</tr><tr class='code'>
<td class='line'>41</td><td>  Satan.executeRemote('getVersion', {}, function(err) {</td>
<td class='line'>41</td><td><span class='context-menu CALL-USE' data-address='15600'>  <span class='context-menu DENV-USE' data-address='1184'><span class='context-menu DVAL-USE' data-address='1200'>Satan</span></span>.<span class='context-menu DVAL-USE' data-address=''>executeRemote</span>(<span class='context-menu DVAL-DEF' data-address='2320'>'getVersion'</span>, <span class='context-menu DVAL-DEF' data-address='2336'>{</span><span class='context-menu DVAL-DEF' data-address='2336'>}</span>, <span class='context-menu DVAL-DEF' data-address='2352'>function</span>(<span class='context-menu DENV-DEF' data-address='2368'><span class='context-menu DVAL-USE' data-address=''>err</span></span>) {</span></td>
</tr><tr class='code'>
<td class='line'>42</td><td>    return cb ? cb.apply(null, arguments) : Common.exitCli(cst.SUCCESS_EXIT);</td>
<td class='line'>42</td><td><span class='context-menu CALL-USE' data-address='15600'>    return <span class='context-menu DENV-USE' data-address='2208'><span class='context-menu DVAL-USE' data-address='15664'><span class='context-menu VAL-USE' data-address='15664'>cb</span></span></span> ? <span class='context-menu DENV-USE' data-address='2208'><span class='context-menu DVAL-USE' data-address='15664'><span class='context-menu VAL-USE' data-address='15664'><span class='context-menu DVAL-DEF' data-address='2464'>c</span>b</span></span></span>.<span class='context-menu DVAL-USE' data-address=''>apply</span>(<span class='context-menu DVAL-DEF' data-address='2528'>null</span>, <span class='context-menu DENV-USE' data-address='-1013'><span class='context-menu DVAL-USE' data-address=''>arguments</span></span>) : <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'><span class='context-menu DVAL-DEF' data-address='2592'>C</span>ommon</span></span>.<span class='context-menu DVAL-USE' data-address=''>exitCli</span>(<span class='context-menu DENV-USE' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>.<span class='context-menu DVAL-USE' data-address=''>SUCCESS_EXIT</span>);</span></td>
</tr><tr class='code'>
<td class='line'>43</td><td>  });</td>
<td class='line'>43</td><td><span class='context-menu CALL-USE' data-address='15600'>  });</span></td>
</tr><tr class='code'>
<td class='line'>44</td><td>};</td>
<td class='line'>44</td><td><span class='context-menu CALL-USE' data-address='15600'>}</span>;</td>
</tr><tr class='code'>
<td class='line'>45</td><td></td>
<td class='line'>45</td><td></td>
</tr><tr class='code'>
<td class='line'>46</td><td>/**</td>
<td class='line'>46</td><td>/**</td>
</tr><tr class='code'>
<td class='line'>47</td><td> * Description</td>
<td class='line'>47</td><td> * Description</td>
</tr><tr class='code'>
<td class='line'>48</td><td> * @method killDaemon</td>
<td class='line'>48</td><td> * @method killDaemon</td>
</tr><tr class='code'>
<td class='line'>49</td><td> * @param {} cb</td>
<td class='line'>49</td><td> * @param {} cb</td>
</tr><tr class='code'>
<td class='line'>50</td><td> * @return</td>
<td class='line'>50</td><td> * @return</td>
</tr><tr class='code'>
<td class='line'>51</td><td> */</td>
<td class='line'>51</td><td> */</td>
</tr><tr class='code'>
<td class='line'>52</td><td>CLI.killDaemon = CLI.kill = function(cb) {</td>
<td class='line'>52</td><td><span class='context-menu DENV-USE' data-address='64'><span class='context-menu DVAL-USE' data-address='144'>CLI</span></span>.<span class='context-menu DVAL-USE' data-address='2848'><span class='context-menu VAL-USE' data-address='2848'>killDaemon</span></span> = <span class='context-menu DENV-USE' data-address='64'><span class='context-menu DVAL-USE' data-address='144'>CLI</span></span>.<span class='context-menu DVAL-USE' data-address='2848'><span class='context-menu VAL-USE' data-address='2848'>kill</span></span> = <span class='context-menu DVAL-DEF' data-address='2848'><span class='context-menu VAL-DEF' data-address='2848'>function</span></span>(<span class='context-menu DENV-DEF' data-address='2864'><span class='context-menu DVAL-USE' data-address=''>cb</span></span>) {</td>
</tr><tr class='code'>
<td class='line alignment'></td><td class='alignment'></td>
<td class='line insertLine'>53</td><td class='insert'>  var <span class='context-menu DENV-DEF' data-address='15520'><span class='context-menu DVAL-USE' data-address='15536'><span class='context-menu ENV-DEF' data-address='15520'><span class='context-menu VAL-USE' data-address='15536'>semver</span></span></span></span> = <span class='context-menu DVAL-DEF' data-address='15536'><span class='context-menu CALL-DEF' data-address='15536'><span class='context-menu DENV-USE' data-address='224'><span class='context-menu DVAL-USE' data-address=''>require</span></span></span>(<span class='context-menu DVAL-DEF' data-address='15568'><span class='context-menu VAL-DEF' data-address='15568'>'semver'</span></span>)</span>;</td>
</tr><tr class='code'>
<td class='line'>53</td><td>  Common.printOut(cst.PREFIX_MSG + 'Stopping PM2...');</td>
<td class='line'>54</td><td>  <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'>Common</span></span>.<span class='context-menu DVAL-USE' data-address=''>printOut</span>(<span class='context-menu DENV-USE' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>.<span class='context-menu DVAL-USE' data-address=''>PREFIX_MSG</span> + <span class='context-menu DVAL-DEF' data-address='3040'>'Stopping PM2...'</span>);</td>
</tr><tr class='code'>
<td class='line'>54</td><td></td>
<td class='line'>55</td><td></td>
</tr><tr class='code'>
<td class='line'>55</td><td>  Satan.executeRemote('notifyKillPM2', {}, function() {});</td>
<td class='line'>56</td><td>  <span class='context-menu DENV-USE' data-address='1184'><span class='context-menu DVAL-USE' data-address='1200'>Satan</span></span>.<span class='context-menu DVAL-USE' data-address=''>executeRemote</span>(<span class='context-menu DVAL-DEF' data-address='3136'>'notifyKillPM2'</span>, <span class='context-menu DVAL-DEF' data-address='3152'>{</span><span class='context-menu DVAL-DEF' data-address='3152'>}</span>, <span class='context-menu DVAL-DEF' data-address='3168'>function</span>() {});</td>
</tr><tr class='code'>
<td class='line deleteLine'>56</td><td class='delete'>  CLI.killAllModules(function() {</td>
<td class='line insertLine'>57</td><td class='insert'></td>
</tr><tr class='code'>
<td class='line deleteLine'>57</td><td class='delete'>    CLI._operate('deleteProcessId', 'all', function(err, list) {</td>
<td class='line insertLine'>58</td><td class='insert'>  <span class='context-menu CALL-DEF' data-address='15600'><span class='context-menu DENV-USE' data-address='64'><span class='context-menu DVAL-USE' data-address='144'>CLI</span></span>.<span class='context-menu DVAL-USE' data-address='2192'>getVersion</span></span>(<span class='context-menu DVAL-DEF' data-address='15664'><span class='context-menu VAL-DEF' data-address='15664'>function</span></span>(<span class='context-menu DENV-DEF' data-address='15680'><span class='context-menu DVAL-USE' data-address=''><span class='context-menu ENV-DEF' data-address='15680'><span class='context-menu VAL-USE' data-address=''>err</span></span></span></span>, <span class='context-menu DENV-DEF' data-address='15696'><span class='context-menu DVAL-USE' data-address=''><span class='context-menu ENV-DEF' data-address='15696'><span class='context-menu VAL-USE' data-address=''>data</span></span></span></span>) {</td>
</tr><tr class='code'>
<td class='line deleteLine'>58</td><td class='delete'>      Common.printOut(cst.PREFIX_MSG + 'All processes have been stopped and deleted');</td>
<td class='line insertLine'>59</td><td class='insert'>    if (<span class='context-menu CON-DEF' data-address='15744'>!<span class='context-menu DENV-USE' data-address='15680'><span class='context-menu DVAL-USE' data-address=''><span class='context-menu ENV-USE' data-address='15680'><span class='context-menu VAL-USE' data-address=''>err</span></span></span></span> && <span class='context-menu CALL-DEF' data-address='15792'><span class='context-menu DENV-USE' data-address='15520'><span class='context-menu DVAL-USE' data-address='15536'><span class='context-menu ENV-USE' data-address='15520'><span class='context-menu VAL-USE' data-address='15536'>semver</span></span></span></span>.<span class='context-menu DVAL-USE' data-address=''>lt</span></span>(<span class='context-menu DENV-USE' data-address='15696'><span class='context-menu DVAL-USE' data-address=''><span class='context-menu ENV-USE' data-address='15696'><span class='context-menu VAL-USE' data-address=''>data</span></span></span></span>, <span class='context-menu DVAL-DEF' data-address='15872'><span class='context-menu VAL-DEF' data-address='15872'>'1.1.0'</span></span>)</span>) {</td>
</tr><tr class='code'>
<td class='line alignment'></td><td class='alignment'></td>
<td class='line insertLine'>60</td><td class='insert'>      // Disable action command output if upgrading from < 1.1.0 PM2</td>
</tr><tr class='code'>
<td class='line alignment'></td><td class='alignment'></td>
<td class='line insertLine'>61</td><td class='insert'>      // This is in order to avoid duplicated output</td>
</tr><tr class='code'>
<td class='line alignment'></td><td class='alignment'></td>
<td class='line insertLine'>62</td><td class='insert'>      <span class='context-menu CON-USE' data-address='15744'><span class='context-menu DENV-USE' data-address='-1003'><span class='context-menu DVAL-USE' data-address=''>process</span></span>.<span class='context-menu DVAL-USE' data-address=''>env</span>.<span class='context-menu DVAL-USE' data-address='16016'><span class='context-menu VAL-USE' data-address='16016'>PM2_SILENT</span></span> = <span class='context-menu DVAL-DEF' data-address='16016'><span class='context-menu VAL-DEF' data-address='16016'>true</span></span>;</span></td>
</tr><tr class='code'>
<td class='line alignment'></td><td class='alignment'></td>
<td class='line insertLine'>63</td><td class='insert'>      <span class='context-menu CON-USE' data-address='15744'><span class='context-menu CALL-DEF' data-address='16048'><span class='context-menu DENV-USE' data-address='-1002'><span class='context-menu DVAL-USE' data-address=''>console</span></span>.<span class='context-menu DVAL-USE' data-address=''>log</span></span>(<span class='context-menu DENV-USE' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>.<span class='context-menu DVAL-USE' data-address=''>PREFIX_MSG</span> + <span class='context-menu DVAL-DEF' data-address='16176'><span class='context-menu VAL-DEF' data-address='16176'>'Killing processes...'</span></span>);</span></td>
</tr><tr class='code'>
<td class='line alignment'></td><td class='alignment'></td>
<td class='line insertLine'>64</td><td class='insert'>    }</td>
</tr><tr class='code'>
<td class='line alignment'></td><td class='alignment'></td>
<td class='line insertLine'>65</td><td class='insert'></td>
</tr><tr class='code'>
<td class='line alignment'></td><td class='alignment'></td>
<td class='line insertLine'>66</td><td class='insert'>    <span class='context-menu CALL-DEF' data-address='16208'><span class='context-menu DENV-USE' data-address='64'><span class='context-menu DVAL-USE' data-address='144'>CLI</span></span>.<span class='context-menu DVAL-USE' data-address='4576'>killAllModules</span></span>(<span class='context-menu DVAL-DEF' data-address='16272'><span class='context-menu VAL-DEF' data-address='16272'>function</span></span>() {</td>
</tr><tr class='code'>
<td class='line alignment'></td><td class='alignment'></td>
<td class='line insertLine'>67</td><td class='insert'>      <span class='context-menu CALL-DEF' data-address='16320'><span class='context-menu DENV-USE' data-address='64'><span class='context-menu DVAL-USE' data-address='144'>CLI</span></span>.<span class='context-menu DVAL-USE' data-address='5328'><span class='context-menu VAL-USE' data-address='5328'>_operate</span></span></span>(<span class='context-menu DVAL-DEF' data-address='16384'><span class='context-menu VAL-DEF' data-address='16384'>'deleteProcessId'</span></span>, <span class='context-menu DVAL-DEF' data-address='16400'><span class='context-menu VAL-DEF' data-address='16400'>'all'</span></span>, <span class='context-menu DVAL-DEF' data-address='16416'><span class='context-menu VAL-DEF' data-address='16416'>function</span></span>(<span class='context-menu DENV-DEF' data-address='16432'><span class='context-menu DVAL-USE' data-address='11488,14288,13648,12672,12048'><span class='context-menu ENV-DEF' data-address='16432'><span class='context-menu VAL-USE' data-address='11488,14288,13648,12672,12048'>err</span></span></span></span>, <span class='context-menu DENV-DEF' data-address='16448'><span class='context-menu DVAL-USE' data-address='17664'><span class='context-menu ENV-DEF' data-address='16448'><span class='context-menu VAL-USE' data-address='17664'>list</span></span></span></span>) {</td>
</tr><tr class='code'>
<td class='line alignment'></td><td class='alignment'></td>
<td class='line insertLine'>68</td><td class='insert'>        <span class='context-menu CALL-DEF' data-address='16496'><span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'>Common</span></span>.<span class='context-menu DVAL-USE' data-address=''>printOut</span></span>(<span class='context-menu DENV-USE' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>.<span class='context-menu DVAL-USE' data-address=''>PREFIX_MSG</span> + <span class='context-menu DVAL-DEF' data-address='16624'><span class='context-menu VAL-DEF' data-address='16624'>'All processes have been stopped and deleted'</span></span>);</td>
</tr><tr class='code'>
<td class='line alignment'></td><td class='alignment'></td>
<td class='line insertLine'>69</td><td class='insert'>        <span class='context-menu DENV-USE' data-address='-1003'><span class='context-menu DVAL-USE' data-address=''>process</span></span>.<span class='context-menu DVAL-USE' data-address=''>env</span>.<span class='context-menu DVAL-USE' data-address='16752,16752'><span class='context-menu VAL-USE' data-address='16752,16752'>PM2_SILENT</span></span> = <span class='context-menu DVAL-DEF' data-address='16752'><span class='context-menu VAL-DEF' data-address='16752'>false</span></span>;</td>
</tr><tr class='code'>
<td class='line'>59</td><td></td>
<td class='line'>70</td><td></td>
</tr><tr class='code'>
<td class='line deleteLine'>60</td><td class='delete'>      InteractorDaemonizer.killDaemon(function(err, data) {</td>
<td class='line insertLine'>71</td><td class='insert'>        <span class='context-menu CALL-DEF' data-address='16784'><span class='context-menu DENV-USE' data-address='1376'><span class='context-menu DVAL-USE' data-address='1392'>InteractorDaemonizer</span></span>.<span class='context-menu DVAL-USE' data-address=''>killDaemon</span></span>(<span class='context-menu DVAL-DEF' data-address='16848'><span class='context-menu VAL-DEF' data-address='16848'>function</span></span>(<span class='context-menu DENV-DEF' data-address='16864'><span class='context-menu DVAL-USE' data-address=''><span class='context-menu ENV-DEF' data-address='16864'><span class='context-menu VAL-USE' data-address=''>err</span></span></span></span>, <span class='context-menu DENV-DEF' data-address='16880'><span class='context-menu DVAL-USE' data-address=''><span class='context-menu ENV-DEF' data-address='16880'><span class='context-menu VAL-USE' data-address=''>data</span></span></span></span>) {</td>
</tr><tr class='code'>
<td class='line deleteLine'>61</td><td class='delete'>        Satan.killDaemon(function(err, res) {</td>
<td class='line insertLine'>72</td><td class='insert'>          <span class='context-menu CALL-DEF' data-address='16928'><span class='context-menu DENV-USE' data-address='1184'><span class='context-menu DVAL-USE' data-address='1200'>Satan</span></span>.<span class='context-menu DVAL-USE' data-address=''>killDaemon</span></span>(<span class='context-menu DVAL-DEF' data-address='16992'><span class='context-menu VAL-DEF' data-address='16992'>function</span></span>(<span class='context-menu DENV-DEF' data-address='17008'><span class='context-menu DVAL-USE' data-address=''><span class='context-menu ENV-DEF' data-address='17008'><span class='context-menu VAL-USE' data-address=''>err</span></span></span></span>, <span class='context-menu DENV-DEF' data-address='17024'><span class='context-menu DVAL-USE' data-address=''><span class='context-menu ENV-DEF' data-address='17024'><span class='context-menu VAL-USE' data-address=''>res</span></span></span></span>) {</td>
</tr><tr class='code'>
<td class='line deleteLine'>62</td><td class='delete'>          if (err) Common.printError(err);</td>
<td class='line insertLine'>73</td><td class='insert'>            if (<span class='context-menu CON-DEF' data-address='17072'><span class='context-menu DENV-USE' data-address='17008'><span class='context-menu DVAL-USE' data-address=''><span class='context-menu ENV-USE' data-address='17008'><span class='context-menu VAL-USE' data-address=''>err</span></span></span></span></span>) <span class='context-menu CON-USE' data-address='17072'><span class='context-menu CALL-DEF' data-address='17104'><span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'>Common</span></span>.<span class='context-menu DVAL-USE' data-address=''>printError</span></span>(<span class='context-menu DENV-USE' data-address='17008'><span class='context-menu DVAL-USE' data-address=''><span class='context-menu ENV-USE' data-address='17008'><span class='context-menu VAL-USE' data-address=''>err</span></span></span></span>);</span></td>
</tr><tr class='code'>
<td class='line deleteLine'>63</td><td class='delete'>          Common.printOut(cst.PREFIX_MSG + 'PM2 stopped');</td>
<td class='line insertLine'>74</td><td class='insert'>            <span class='context-menu CALL-DEF' data-address='17200'><span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'>Common</span></span>.<span class='context-menu DVAL-USE' data-address=''>printOut</span></span>(<span class='context-menu DENV-USE' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>.<span class='context-menu DVAL-USE' data-address=''>PREFIX_MSG</span> + <span class='context-menu DVAL-DEF' data-address='17328'><span class='context-menu VAL-DEF' data-address='17328'>'PM2 stopped'</span></span>);</td>
</tr><tr class='code'>
<td class='line deleteLine'>64</td><td class='delete'>          return cb ? cb(err, res) : Common.exitCli(cst.SUCCESS_EXIT);</td>
<td class='line insertLine'>75</td><td class='insert'>            <span class='context-menu CON-USE' data-address='17360'>return <span class='context-menu CON-DEF' data-address='17360'><span class='context-menu DENV-USE' data-address='2864'><span class='context-menu DVAL-USE' data-address=''>cb</span></span></span> ? <span class='context-menu CALL-DEF' data-address='17408'><span class='context-menu DENV-USE' data-address='2864'><span class='context-menu DVAL-USE' data-address=''><span class='context-menu DVAL-DEF' data-address='17408'>c</span>b</span></span></span>(<span class='context-menu DENV-USE' data-address='17008'><span class='context-menu DVAL-USE' data-address=''><span class='context-menu ENV-USE' data-address='17008'><span class='context-menu VAL-USE' data-address=''>err</span></span></span></span>, <span class='context-menu DENV-USE' data-address='17024'><span class='context-menu DVAL-USE' data-address=''><span class='context-menu ENV-USE' data-address='17024'><span class='context-menu VAL-USE' data-address=''>res</span></span></span></span>) : <span class='context-menu CALL-DEF' data-address='17504'><span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'><span class='context-menu DVAL-DEF' data-address='17504'>C</span>ommon</span></span>.<span class='context-menu DVAL-USE' data-address=''>exitCli</span></span>(<span class='context-menu DENV-USE' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>.<span class='context-menu DVAL-USE' data-address=''>SUCCESS_EXIT</span>);</span></td>
</tr><tr class='code'>
<td class='line alignment'></td><td class='alignment'></td>
<td class='line insertLine'>76</td><td class='insert'>          });</td>
</tr><tr class='code'>
<td class='line'>65</td><td>        });</td>
<td class='line'>77</td><td>        });</td>
</tr><tr class='code'>
<td class='line'>66</td><td>      });</td>
<td class='line'>78</td><td>      });</td>
</tr><tr class='code'>
<td class='line'>67</td><td>    });</td>
<td class='line'>79</td><td>    });</td>
</tr><tr class='code'>
<td class='line alignment'></td><td class='alignment'></td>
<td class='line insertLine'>80</td><td class='insert'></td>
</tr><tr class='code'>
<td class='line'>68</td><td>  });</td>
<td class='line'>81</td><td>  });</td>
</tr><tr class='code'>
<td class='line'>69</td><td>};</td>
<td class='line'>82</td><td>};</td>
</tr><tr class='code'>
<td class='line'>70</td><td></td>
<td class='line'>83</td><td></td>
</tr><tr class='code'>
<td class='line'>71</td><td>CLI.killAllModules = function(cb) {</td>
<td class='line'>84</td><td><span class='context-menu DENV-USE' data-address='64'><span class='context-menu DVAL-USE' data-address='144'>CLI</span></span>.<span class='context-menu DVAL-USE' data-address='4576'>killAllModules</span> = <span class='context-menu CALL-USE' data-address='16208'><span class='context-menu DVAL-DEF' data-address='4576'>function</span>(<span class='context-menu DENV-DEF' data-address='4592'><span class='context-menu DVAL-USE' data-address='16272'><span class='context-menu VAL-USE' data-address='16272'>cb</span></span></span>) {</span></td>
</tr><tr class='code'>
<td class='line'>72</td><td>  Common.getAllModulesId(function(err, modules_id) {</td>
<td class='line'>85</td><td><span class='context-menu CALL-USE' data-address='16208'>  <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'>Common</span></span>.<span class='context-menu DVAL-USE' data-address=''>getAllModulesId</span>(<span class='context-menu DVAL-DEF' data-address='4704'>function</span>(<span class='context-menu DENV-DEF' data-address='4720'><span class='context-menu DVAL-USE' data-address=''>err</span></span>, <span class='context-menu DENV-DEF' data-address='4736'><span class='context-menu DVAL-USE' data-address=''>modules_id</span></span>) {</span></td>
</tr><tr class='code'>
<td class='line'>73</td><td>    async.forEachLimit(modules_id, 1, function(id, next) {</td>
<td class='line'>86</td><td><span class='context-menu CALL-USE' data-address='16208'>    <span class='context-menu DENV-USE' data-address='480'><span class='context-menu DVAL-USE' data-address='496'>async</span></span>.<span class='context-menu DVAL-USE' data-address=''>forEachLimit</span>(<span class='context-menu DENV-USE' data-address='4736'><span class='context-menu DVAL-USE' data-address=''>modules_id</span></span>, <span class='context-menu DVAL-DEF' data-address='4864'>1</span>, <span class='context-menu DVAL-DEF' data-address='4880'>function</span>(<span class='context-menu DENV-DEF' data-address='4896'><span class='context-menu DVAL-USE' data-address=''>id</span></span>, <span class='context-menu DENV-DEF' data-address='4912'><span class='context-menu DVAL-USE' data-address=''>next</span></span>) {</span></td>
</tr><tr class='code'>
<td class='line'>74</td><td>      CLI._operate('deleteProcessId', id, next);</td>
<td class='line'>87</td><td><span class='context-menu CALL-USE' data-address='16208'>      <span class='context-menu DENV-USE' data-address='64'><span class='context-menu DVAL-USE' data-address='144'>CLI</span></span>.<span class='context-menu DVAL-USE' data-address='5328'><span class='context-menu VAL-USE' data-address='5328'>_operate</span></span>(<span class='context-menu DVAL-DEF' data-address='5024'>'deleteProcessId'</span>, <span class='context-menu DENV-USE' data-address='4896'><span class='context-menu DVAL-USE' data-address=''>id</span></span>, <span class='context-menu DENV-USE' data-address='4912'><span class='context-menu DVAL-USE' data-address=''>next</span></span>);</span></td>
</tr><tr class='code'>
<td class='line'>75</td><td>    }, function() {</td>
<td class='line'>88</td><td><span class='context-menu CALL-USE' data-address='16208'>    }, <span class='context-menu DVAL-DEF' data-address='5072'>function</span>() {</span></td>
</tr><tr class='code'>
<td class='line'>76</td><td>      return cb ? cb() : false;</td>
<td class='line'>89</td><td><span class='context-menu CALL-USE' data-address='16208'>      return <span class='context-menu DENV-USE' data-address='4592'><span class='context-menu DVAL-USE' data-address='16272'><span class='context-menu VAL-USE' data-address='16272'>cb</span></span></span> ? <span class='context-menu DENV-USE' data-address='4592'><span class='context-menu DVAL-USE' data-address='16272'><span class='context-menu VAL-USE' data-address='16272'>cb</span></span></span>() : <span class='context-menu DVAL-DEF' data-address='5232'>false</span>;</span></td>
</tr><tr class='code'>
<td class='line'>77</td><td>    });</td>
<td class='line'>90</td><td><span class='context-menu CALL-USE' data-address='16208'>    });</span></td>
</tr><tr class='code'>
<td class='line'>78</td><td>  });</td>
<td class='line'>91</td><td><span class='context-menu CALL-USE' data-address='16208'>  });</span></td>
</tr><tr class='code'>
<td class='line'>79</td><td>};</td>
<td class='line'>92</td><td><span class='context-menu CALL-USE' data-address='16208'>}</span>;</td>
</tr><tr class='code'>
<td class='line'>80</td><td></td>
<td class='line'>93</td><td></td>
</tr><tr class='code'>
<td class='line'>81</td><td>/**</td>
<td class='line'>94</td><td>/**</td>
</tr><tr class='code'>
<td class='line'>82</td><td> * This methods is used for stop, delete and restart</td>
<td class='line'>95</td><td> * This methods is used for stop, delete and restart</td>
</tr><tr class='code'>
<td class='line'>83</td><td> * Module cannot be stopped or deleted but can be restarted</td>
<td class='line'>96</td><td> * Module cannot be stopped or deleted but can be restarted</td>
</tr><tr class='code'>
<td class='line'>84</td><td> */</td>
<td class='line'>97</td><td> */</td>
</tr><tr class='code'>
<td class='line'>85</td><td>CLI._operate = function(action_name, process_name, envs, cb) {</td>
<td class='line'>98</td><td><span class='context-menu DENV-USE' data-address='64'><span class='context-menu DVAL-USE' data-address='144'>CLI</span></span>.<span class='context-menu DVAL-USE' data-address='5328'><span class='context-menu VAL-USE' data-address='5328'>_operate</span></span> = <span class='context-menu CALL-USE' data-address='16320'><span class='context-menu DVAL-DEF' data-address='5328'><span class='context-menu VAL-DEF' data-address='5328'>function</span></span>(<span class='context-menu DENV-DEF' data-address='5344'><span class='context-menu DVAL-USE' data-address='5024,16384'><span class='context-menu VAL-USE' data-address='5024,16384'>action_name</span></span></span>, <span class='context-menu DENV-DEF' data-address='5360'><span class='context-menu DVAL-USE' data-address='16400'><span class='context-menu VAL-USE' data-address='16400'>process_name</span></span></span>, <span class='context-menu DENV-DEF' data-address='5376'><span class='context-menu DVAL-USE' data-address='16416'><span class='context-menu VAL-USE' data-address='16416'>envs</span></span></span>, <span class='context-menu DENV-DEF' data-address='5392'><span class='context-menu DVAL-USE' data-address=''>cb</span></span>) {</span></td>
</tr><tr class='code'>
<td class='line deleteLine'>86</td><td class='delete'>  var ret = [];</td>
<td class='line insertLine'>99</td><td class='insert'><span class='context-menu CALL-USE' data-address='16320'>  var <span class='context-menu DENV-DEF' data-address='17648'><span class='context-menu DVAL-USE' data-address='17664'><span class='context-menu ENV-DEF' data-address='17648'><span class='context-menu VAL-USE' data-address='17664'>ret</span></span></span></span> = <span class='context-menu DVAL-DEF' data-address='17664'><span class='context-menu VAL-DEF' data-address='17664'>[</span></span><span class='context-menu DVAL-DEF' data-address='17680'><span class='context-menu VAL-DEF' data-address='17680'>"one"</span></span>, <span class='context-menu DVAL-DEF' data-address='17696'><span class='context-menu VAL-DEF' data-address='17696'>"two"</span></span>, <span class='context-menu DVAL-DEF' data-address='17712'><span class='context-menu VAL-DEF' data-address='17712'>"three"</span></span><span class='context-menu DVAL-DEF' data-address='17664'><span class='context-menu VAL-DEF' data-address='17664'>]</span></span>;</span></td>
</tr><tr class='code'>
<td class='line'>87</td><td></td>
<td class='line'>100</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>88</td><td>  // Make sure all options exist</td>
<td class='line'>101</td><td><span class='context-menu CALL-USE' data-address='16320'>  // Make sure all options exist</span></td>
</tr><tr class='code'>
<td class='line'>89</td><td></td>
<td class='line'>102</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>90</td><td>  if (!envs)</td>
<td class='line'>103</td><td><span class='context-menu CALL-USE' data-address='16320'>  if (!<span class='context-menu DENV-USE' data-address='5376'><span class='context-menu DVAL-USE' data-address='16416'><span class='context-menu VAL-USE' data-address='16416'>envs</span></span></span>)</span></td>
</tr><tr class='code'>
<td class='line'>91</td><td>    envs = {};</td>
<td class='line'>104</td><td><span class='context-menu CALL-USE' data-address='16320'>    <span class='context-menu DENV-USE' data-address='5376'><span class='context-menu DVAL-USE' data-address='5584'>envs</span></span> = <span class='context-menu DVAL-DEF' data-address='5584'>{</span><span class='context-menu DVAL-DEF' data-address='5584'>}</span>;</span></td>
</tr><tr class='code'>
<td class='line'>92</td><td></td>
<td class='line'>105</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>93</td><td>  if (typeof(envs) == 'function'){</td>
<td class='line'>106</td><td><span class='context-menu CALL-USE' data-address='16320'>  if (typeof(<span class='context-menu DENV-USE' data-address='5376'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'>envs</span></span></span>) == <span class='context-menu DVAL-DEF' data-address='5680'>'function'</span>){</span></td>
</tr><tr class='code'>
<td class='line'>94</td><td>    cb = envs;</td>
<td class='line'>107</td><td><span class='context-menu CALL-USE' data-address='16320'>    <span class='context-menu DENV-USE' data-address='5392'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'>cb</span></span></span> = <span class='context-menu DENV-USE' data-address='5376'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'>envs</span></span></span>;</span></td>
</tr><tr class='code'>
<td class='line'>95</td><td>    envs = {};</td>
<td class='line'>108</td><td><span class='context-menu CALL-USE' data-address='16320'>    <span class='context-menu DENV-USE' data-address='5376'><span class='context-menu DVAL-USE' data-address='5824'>envs</span></span> = <span class='context-menu DVAL-DEF' data-address='5824'>{</span><span class='context-menu DVAL-DEF' data-address='5824'>}</span>;</span></td>
</tr><tr class='code'>
<td class='line'>96</td><td>  }</td>
<td class='line'>109</td><td><span class='context-menu CALL-USE' data-address='16320'>  }</span></td>
</tr><tr class='code'>
<td class='line'>97</td><td></td>
<td class='line'>110</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>98</td><td>  if (!process.env.PM2_JSON_PROCESSING)</td>
<td class='line'>111</td><td><span class='context-menu CALL-USE' data-address='16320'>  if (!<span class='context-menu DENV-USE' data-address='-1003'><span class='context-menu DVAL-USE' data-address=''>process</span></span>.<span class='context-menu DVAL-USE' data-address=''>env</span>.<span class='context-menu DVAL-USE' data-address=''>PM2_JSON_PROCESSING</span>)</span></td>
</tr><tr class='code'>
<td class='line'>99</td><td>    envs = CLI._handleAttributeUpdate(envs);</td>
<td class='line'>112</td><td><span class='context-menu CALL-USE' data-address='16320'>    <span class='context-menu DENV-USE' data-address='5376'><span class='context-menu DVAL-USE' data-address='6000'>envs</span></span> = <span class='context-menu DVAL-DEF' data-address='6000'><span class='context-menu DENV-USE' data-address='64'><span class='context-menu DVAL-USE' data-address='144'>CLI</span></span>.<span class='context-menu DVAL-USE' data-address=''>_handleAttributeUpdate</span>(<span class='context-menu DENV-USE' data-address='5376'><span class='context-menu DVAL-USE' data-address='6000'>envs</span></span>)</span>;</span></td>
</tr><tr class='code'>
<td class='line'>100</td><td></td>
<td class='line'>113</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>101</td><td>  /**</td>
<td class='line'>114</td><td><span class='context-menu CALL-USE' data-address='16320'>  /**</span></td>
</tr><tr class='code'>
<td class='line'>102</td><td>   * Operate action on specific process id</td>
<td class='line'>115</td><td><span class='context-menu CALL-USE' data-address='16320'>   * Operate action on specific process id</span></td>
</tr><tr class='code'>
<td class='line'>103</td><td>   */</td>
<td class='line'>116</td><td><span class='context-menu CALL-USE' data-address='16320'>   */</span></td>
</tr><tr class='code'>
<td class='line'>104</td><td>  function processIds(ids, cb) {</td>
<td class='line'>117</td><td><span class='context-menu CALL-USE' data-address='16320'>  <span class='context-menu DVAL-DEF' data-address='6080'>function</span> <span class='context-menu DENV-DEF' data-address='6080'><span class='context-menu DVAL-USE' data-address='6080'>processIds</span></span>(<span class='context-menu DENV-DEF' data-address='6112'><span class='context-menu DVAL-USE' data-address='15264'>ids</span></span>, <span class='context-menu DENV-DEF' data-address='6128'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'>cb</span></span></span>) {</span></td>
</tr><tr class='code'>
<td class='line'>105</td><td>    Common.printOut(cst.PREFIX_MSG + 'Applying action %s on app [%s](ids: %s)', action_name, process_name, ids);</td>
<td class='line'>118</td><td><span class='context-menu CALL-USE' data-address='16320'>    <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'>Common</span></span>.<span class='context-menu DVAL-USE' data-address=''>printOut</span>(<span class='context-menu DENV-USE' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>.<span class='context-menu DVAL-USE' data-address=''>PREFIX_MSG</span> + <span class='context-menu DVAL-DEF' data-address='6304'>'Applying action %s on app [%s](ids: %s)'</span>, <span class='context-menu DENV-USE' data-address='5344'><span class='context-menu DVAL-USE' data-address='5024,16384'><span class='context-menu VAL-USE' data-address='5024,16384'>action_name</span></span></span>, <span class='context-menu DENV-USE' data-address='5360'><span class='context-menu DVAL-USE' data-address='16400'><span class='context-menu VAL-USE' data-address='16400'>process_name</span></span></span>, <span class='context-menu DENV-USE' data-address='6112'><span class='context-menu DVAL-USE' data-address='15264'>ids</span></span>);</span></td>
</tr><tr class='code'>
<td class='line'>106</td><td></td>
<td class='line'>119</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>107</td><td>    async.eachLimit(ids, cst.CONCURRENT_ACTIONS, function(id, next) {</td>
<td class='line'>120</td><td><span class='context-menu CALL-USE' data-address='16320'>    <span class='context-menu DENV-USE' data-address='480'><span class='context-menu DVAL-USE' data-address='496'>async</span></span>.<span class='context-menu DVAL-USE' data-address=''>eachLimit</span>(<span class='context-menu DENV-USE' data-address='6112'><span class='context-menu DVAL-USE' data-address='15264'>ids</span></span>, <span class='context-menu DENV-USE' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>.<span class='context-menu DVAL-USE' data-address=''>CONCURRENT_ACTIONS</span>, <span class='context-menu DVAL-DEF' data-address='6512'>function</span>(<span class='context-menu DENV-DEF' data-address='6528'><span class='context-menu DVAL-USE' data-address=''>id</span></span>, <span class='context-menu DENV-DEF' data-address='6544'><span class='context-menu DVAL-USE' data-address=''>next</span></span>) {</span></td>
</tr><tr class='code'>
<td class='line'>108</td><td>      var opts = id;</td>
<td class='line'>121</td><td><span class='context-menu CALL-USE' data-address='16320'>      var <span class='context-menu DENV-DEF' data-address='6608'><span class='context-menu DVAL-USE' data-address=''>opts</span></span> = <span class='context-menu DENV-DEF' data-address='6528'><span class='context-menu DVAL-USE' data-address=''>id</span></span>;</span></td>
</tr><tr class='code'>
<td class='line'>109</td><td></td>
<td class='line'>122</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>110</td><td>      if (action_name == 'restartProcessId' ||</td>
<td class='line'>123</td><td><span class='context-menu CALL-USE' data-address='16320'>      if (<span class='context-menu DENV-USE' data-address='5344'><span class='context-menu DVAL-USE' data-address='5024,16384'><span class='context-menu VAL-USE' data-address='5024,16384'>action_name</span></span></span> == <span class='context-menu DVAL-DEF' data-address='6704'>'restartProcessId'</span> ||</span></td>
</tr><tr class='code'>
<td class='line'>111</td><td>          action_name == 'reloadProcessId' ||</td>
<td class='line'>124</td><td><span class='context-menu CALL-USE' data-address='16320'>          <span class='context-menu DENV-USE' data-address='5344'><span class='context-menu DVAL-USE' data-address='5024,16384'><span class='context-menu VAL-USE' data-address='5024,16384'>action_name</span></span></span> == <span class='context-menu DVAL-DEF' data-address='6768'>'reloadProcessId'</span> ||</span></td>
</tr><tr class='code'>
<td class='line'>112</td><td>          action_name == 'softReloadProcessId') {</td>
<td class='line'>125</td><td><span class='context-menu CALL-USE' data-address='16320'>          <span class='context-menu DENV-USE' data-address='5344'><span class='context-menu DVAL-USE' data-address='5024,16384'><span class='context-menu VAL-USE' data-address='5024,16384'>action_name</span></span></span> == <span class='context-menu DVAL-DEF' data-address='6816'>'softReloadProcessId'</span>) {</span></td>
</tr><tr class='code'>
<td class='line'>113</td><td>        var new_env = {};</td>
<td class='line'>126</td><td><span class='context-menu CALL-USE' data-address='16320'>        var <span class='context-menu DENV-DEF' data-address='6880'><span class='context-menu DVAL-USE' data-address='6896'>new_env</span></span> = <span class='context-menu DVAL-DEF' data-address='6896'>{</span><span class='context-menu DVAL-DEF' data-address='6896'>}</span>;</span></td>
</tr><tr class='code'>
<td class='line'>114</td><td></td>
<td class='line'>127</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>115</td><td>        if (!opts.skipEnv) {</td>
<td class='line'>128</td><td><span class='context-menu CALL-USE' data-address='16320'>        if (!<span class='context-menu DENV-USE' data-address='6608'><span class='context-menu DVAL-USE' data-address=''>opts</span></span>.<span class='context-menu DVAL-USE' data-address=''>skipEnv</span>) {</span></td>
</tr><tr class='code'>
<td class='line'>116</td><td>          new_env = util._extend({}, process.env);</td>
<td class='line'>129</td><td><span class='context-menu CALL-USE' data-address='16320'>          <span class='context-menu DENV-USE' data-address='6880'><span class='context-menu DVAL-USE' data-address='7056'>new_env</span></span> = <span class='context-menu DVAL-DEF' data-address='7056'><span class='context-menu DENV-USE' data-address='704'><span class='context-menu DVAL-USE' data-address='720'>util</span></span>.<span class='context-menu DVAL-USE' data-address=''>_extend</span>(<span class='context-menu DVAL-DEF' data-address='7120'>{</span><span class='context-menu DVAL-DEF' data-address='7120'>}</span>, <span class='context-menu DENV-USE' data-address='-1003'><span class='context-menu DVAL-USE' data-address=''>process</span></span>.<span class='context-menu DVAL-USE' data-address=''>env</span>)</span>;</span></td>
</tr><tr class='code'>
<td class='line'>117</td><td>          Object.keys(envs).forEach(function(k) {</td>
<td class='line'>130</td><td><span class='context-menu CALL-USE' data-address='16320'>          <span class='context-menu DENV-USE' data-address='7264'><span class='context-menu DVAL-USE' data-address=''>Object</span></span>.<span class='context-menu DVAL-USE' data-address=''>keys</span>(<span class='context-menu DENV-USE' data-address='5376'><span class='context-menu DVAL-USE' data-address='6000,5824,5584,16416'><span class='context-menu VAL-USE' data-address='6000,5824,5584,16416'>envs</span></span></span>).forEach(<span class='context-menu DVAL-DEF' data-address='7328'>function</span>(<span class='context-menu DENV-DEF' data-address='7344'><span class='context-menu DVAL-USE' data-address=''>k</span></span>) {</span></td>
</tr><tr class='code'>
<td class='line'>118</td><td>            new_env[k] = envs[k];</td>
<td class='line'>131</td><td><span class='context-menu CALL-USE' data-address='16320'>            <span class='context-menu DENV-USE' data-address='6880'><span class='context-menu DVAL-USE' data-address='7056'>new_env</span></span>[<span class='context-menu DENV-USE' data-address='7344'><span class='context-menu DVAL-USE' data-address=''>k</span></span>] = <span class='context-menu DENV-USE' data-address='5376'><span class='context-menu DVAL-USE' data-address='6000,5824,5584,16416'><span class='context-menu VAL-USE' data-address='6000,5824,5584,16416'>envs</span></span></span>[<span class='context-menu DENV-USE' data-address='7344'><span class='context-menu DVAL-USE' data-address=''>k</span></span>];</span></td>
</tr><tr class='code'>
<td class='line'>119</td><td>          });</td>
<td class='line'>132</td><td><span class='context-menu CALL-USE' data-address='16320'>          });</span></td>
</tr><tr class='code'>
<td class='line'>120</td><td>        } else {</td>
<td class='line'>133</td><td><span class='context-menu CALL-USE' data-address='16320'>        } else {</span></td>
</tr><tr class='code'>
<td class='line'>121</td><td>          new_env = envs;</td>
<td class='line'>134</td><td><span class='context-menu CALL-USE' data-address='16320'>          <span class='context-menu DENV-USE' data-address='6880'><span class='context-menu DVAL-USE' data-address='6000,5824,5584,16416'><span class='context-menu VAL-USE' data-address='6000,5824,5584,16416'>new_env</span></span></span> = <span class='context-menu DENV-USE' data-address='5376'><span class='context-menu DVAL-USE' data-address='6000,5824,5584,16416'><span class='context-menu VAL-USE' data-address='6000,5824,5584,16416'>envs</span></span></span>;</span></td>
</tr><tr class='code'>
<td class='line'>122</td><td>        }</td>
<td class='line'>135</td><td><span class='context-menu CALL-USE' data-address='16320'>        }</span></td>
</tr><tr class='code'>
<td class='line'>123</td><td></td>
<td class='line'>136</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>124</td><td>        opts = {</td>
<td class='line'>137</td><td><span class='context-menu CALL-USE' data-address='16320'>        <span class='context-menu DENV-USE' data-address='6608'><span class='context-menu DVAL-USE' data-address='7632'>opts</span></span> = <span class='context-menu DVAL-DEF' data-address='7632'>{</span></span></td>
</tr><tr class='code'>
<td class='line'>125</td><td>          id  : id,</td>
<td class='line'>138</td><td><span class='context-menu CALL-USE' data-address='16320'>          <span class='context-menu DENV-USE' data-address='6528'><span class='context-menu DVAL-USE' data-address=''>id</span></span>  : <span class='context-menu DENV-USE' data-address='6528'><span class='context-menu DVAL-USE' data-address=''>id</span></span>,</span></td>
</tr><tr class='code'>
<td class='line'>126</td><td>          env : new_env</td>
<td class='line'>139</td><td><span class='context-menu CALL-USE' data-address='16320'>          <span class='context-menu DENV-USE' data-address='-1006'><span class='context-menu DVAL-USE' data-address=''><span class='context-menu VAL-USE' data-address='7056,6000,5824,5584,16416'>env</span></span></span> : <span class='context-menu DENV-USE' data-address='6880'><span class='context-menu DVAL-USE' data-address='7056,6000,5824,5584,16416'><span class='context-menu VAL-USE' data-address='7056,6000,5824,5584,16416'>new_env</span></span></span></span></td>
</tr><tr class='code'>
<td class='line'>127</td><td>        };</td>
<td class='line'>140</td><td><span class='context-menu CALL-USE' data-address='16320'>        <span class='context-menu DVAL-DEF' data-address='7632'>}</span>;</span></td>
</tr><tr class='code'>
<td class='line'>128</td><td>      }</td>
<td class='line'>141</td><td><span class='context-menu CALL-USE' data-address='16320'>      }</span></td>
</tr><tr class='code'>
<td class='line'>129</td><td></td>
<td class='line'>142</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>130</td><td>      Satan.executeRemote(action_name, opts, function(err, res) {</td>
<td class='line'>143</td><td><span class='context-menu CALL-USE' data-address='16320'>      <span class='context-menu DENV-USE' data-address='1184'><span class='context-menu DVAL-USE' data-address='1200'>Satan</span></span>.<span class='context-menu DVAL-USE' data-address=''>executeRemote</span>(<span class='context-menu DENV-USE' data-address='5344'><span class='context-menu DVAL-USE' data-address='5024,16384'><span class='context-menu VAL-USE' data-address='5024,16384'>action_name</span></span></span>, <span class='context-menu DENV-USE' data-address='6608'><span class='context-menu DVAL-USE' data-address='7632'>opts</span></span>, <span class='context-menu DVAL-DEF' data-address='7856'>function</span>(<span class='context-menu DENV-DEF' data-address='7872'><span class='context-menu DVAL-USE' data-address=''>err</span></span>, <span class='context-menu DENV-DEF' data-address='7888'><span class='context-menu DVAL-USE' data-address=''>res</span></span>) {</span></td>
</tr><tr class='code'>
<td class='line'>131</td><td>        if (err) {</td>
<td class='line'>144</td><td><span class='context-menu CALL-USE' data-address='16320'>        if (<span class='context-menu DENV-USE' data-address='7872'><span class='context-menu DVAL-USE' data-address=''>err</span></span>) {</span></td>
</tr><tr class='code'>
<td class='line'>132</td><td>          Common.printError(cst.PREFIX_MSG_ERR + 'Process %s not found', id);</td>
<td class='line'>145</td><td><span class='context-menu CALL-USE' data-address='16320'>          <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'>Common</span></span>.<span class='context-menu DVAL-USE' data-address=''>printError</span>(<span class='context-menu DENV-USE' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>.<span class='context-menu DVAL-USE' data-address=''>PREFIX_MSG_ERR</span> + <span class='context-menu DVAL-DEF' data-address='8112'>'Process %s not found'</span>, <span class='context-menu DENV-USE' data-address='6528'><span class='context-menu DVAL-USE' data-address=''>id</span></span>);</span></td>
</tr><tr class='code'>
<td class='line'>133</td><td>          return next('Process not found');</td>
<td class='line'>146</td><td><span class='context-menu CALL-USE' data-address='16320'>          return <span class='context-menu DVAL-DEF' data-address='8160'><span class='context-menu DENV-USE' data-address='6544'><span class='context-menu DVAL-USE' data-address=''>next</span></span>(<span class='context-menu DVAL-DEF' data-address='8192'>'Process not found'</span>)</span>;</span></td>
</tr><tr class='code'>
<td class='line'>134</td><td>        }</td>
<td class='line'>147</td><td><span class='context-menu CALL-USE' data-address='16320'>        }</span></td>
</tr><tr class='code'>
<td class='line'>135</td><td></td>
<td class='line'>148</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>136</td><td>        if (action_name == 'restartProcessId') {</td>
<td class='line'>149</td><td><span class='context-menu CALL-USE' data-address='16320'>        if (<span class='context-menu DENV-USE' data-address='5344'><span class='context-menu DVAL-USE' data-address='5024,16384'><span class='context-menu VAL-USE' data-address='5024,16384'>action_name</span></span></span> == <span class='context-menu DVAL-DEF' data-address='8256'>'restartProcessId'</span>) {</span></td>
</tr><tr class='code'>
<td class='line'>137</td><td>          Satan.notifyGod('restart', id);</td>
<td class='line'>150</td><td><span class='context-menu CALL-USE' data-address='16320'>          <span class='context-menu DENV-USE' data-address='1184'><span class='context-menu DVAL-USE' data-address='1200'>Satan</span></span>.<span class='context-menu DVAL-USE' data-address=''>notifyGod</span>(<span class='context-menu DVAL-DEF' data-address='8368'>'restart'</span>, <span class='context-menu DENV-USE' data-address='6528'><span class='context-menu DVAL-USE' data-address=''>id</span></span>);</span></td>
</tr><tr class='code'>
<td class='line'>138</td><td>        } else if (action_name == 'deleteProcessId') {</td>
<td class='line'>151</td><td><span class='context-menu CALL-USE' data-address='16320'>        } else if (<span class='context-menu DENV-USE' data-address='5344'><span class='context-menu DVAL-USE' data-address='5024,16384'><span class='context-menu VAL-USE' data-address='5024,16384'>action_name</span></span></span> == <span class='context-menu DVAL-DEF' data-address='8448'>'deleteProcessId'</span>) {</span></td>
</tr><tr class='code'>
<td class='line'>139</td><td>          Satan.notifyGod('delete', id);</td>
<td class='line'>152</td><td><span class='context-menu CALL-USE' data-address='16320'>          <span class='context-menu DENV-USE' data-address='1184'><span class='context-menu DVAL-USE' data-address='1200'>Satan</span></span>.<span class='context-menu DVAL-USE' data-address=''>notifyGod</span>(<span class='context-menu DVAL-DEF' data-address='8560'>'delete'</span>, <span class='context-menu DENV-USE' data-address='6528'><span class='context-menu DVAL-USE' data-address=''>id</span></span>);</span></td>
</tr><tr class='code'>
<td class='line'>140</td><td>        } else if (action_name == 'stopProcessId') {</td>
<td class='line'>153</td><td><span class='context-menu CALL-USE' data-address='16320'>        } else if (<span class='context-menu DENV-USE' data-address='5344'><span class='context-menu DVAL-USE' data-address='5024,16384'><span class='context-menu VAL-USE' data-address='5024,16384'>action_name</span></span></span> == <span class='context-menu DVAL-DEF' data-address='8640'>'stopProcessId'</span>) {</span></td>
</tr><tr class='code'>
<td class='line'>141</td><td>          Satan.notifyGod('stop', id);</td>
<td class='line'>154</td><td><span class='context-menu CALL-USE' data-address='16320'>          <span class='context-menu DENV-USE' data-address='1184'><span class='context-menu DVAL-USE' data-address='1200'>Satan</span></span>.<span class='context-menu DVAL-USE' data-address=''>notifyGod</span>(<span class='context-menu DVAL-DEF' data-address='8752'>'stop'</span>, <span class='context-menu DENV-USE' data-address='6528'><span class='context-menu DVAL-USE' data-address=''>id</span></span>);</span></td>
</tr><tr class='code'>
<td class='line'>142</td><td>        } else if (action_name == 'reloadProcessId') {</td>
<td class='line'>155</td><td><span class='context-menu CALL-USE' data-address='16320'>        } else if (<span class='context-menu DENV-USE' data-address='5344'><span class='context-menu DVAL-USE' data-address='5024,16384'><span class='context-menu VAL-USE' data-address='5024,16384'>action_name</span></span></span> == <span class='context-menu DVAL-DEF' data-address='8832'>'reloadProcessId'</span>) {</span></td>
</tr><tr class='code'>
<td class='line'>143</td><td>          Satan.notifyGod('reload', id);</td>
<td class='line'>156</td><td><span class='context-menu CALL-USE' data-address='16320'>          <span class='context-menu DENV-USE' data-address='1184'><span class='context-menu DVAL-USE' data-address='1200'>Satan</span></span>.<span class='context-menu DVAL-USE' data-address=''>notifyGod</span>(<span class='context-menu DVAL-DEF' data-address='8944'>'reload'</span>, <span class='context-menu DENV-USE' data-address='6528'><span class='context-menu DVAL-USE' data-address=''>id</span></span>);</span></td>
</tr><tr class='code'>
<td class='line'>144</td><td>        } else if (action_name == 'softReloadProcessId') {</td>
<td class='line'>157</td><td><span class='context-menu CALL-USE' data-address='16320'>        } else if (<span class='context-menu DENV-USE' data-address='5344'><span class='context-menu DVAL-USE' data-address='5024,16384'><span class='context-menu VAL-USE' data-address='5024,16384'>action_name</span></span></span> == <span class='context-menu DVAL-DEF' data-address='9024'>'softReloadProcessId'</span>) {</span></td>
</tr><tr class='code'>
<td class='line'>145</td><td>          Satan.notifyGod('graceful reload', id);</td>
<td class='line'>158</td><td><span class='context-menu CALL-USE' data-address='16320'>          <span class='context-menu DENV-USE' data-address='1184'><span class='context-menu DVAL-USE' data-address='1200'>Satan</span></span>.<span class='context-menu DVAL-USE' data-address=''>notifyGod</span>(<span class='context-menu DVAL-DEF' data-address='9136'>'graceful reload'</span>, <span class='context-menu DENV-USE' data-address='6528'><span class='context-menu DVAL-USE' data-address=''>id</span></span>);</span></td>
</tr><tr class='code'>
<td class='line'>146</td><td>        }</td>
<td class='line'>159</td><td><span class='context-menu CALL-USE' data-address='16320'>        }</span></td>
</tr><tr class='code'>
<td class='line'>147</td><td></td>
<td class='line'>160</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>148</td><td>        if (!Array.isArray(res))</td>
<td class='line'>161</td><td><span class='context-menu CALL-USE' data-address='16320'>        if (!<span class='context-menu DENV-USE' data-address='-1009'><span class='context-menu DVAL-USE' data-address=''>Array</span></span>.<span class='context-menu DVAL-USE' data-address=''>isArray</span>(<span class='context-menu DENV-USE' data-address='7888'><span class='context-menu DVAL-USE' data-address=''>res</span></span>))</span></td>
</tr><tr class='code'>
<td class='line'>149</td><td>          res = [res];</td>
<td class='line'>162</td><td><span class='context-menu CALL-USE' data-address='16320'>          <span class='context-menu DENV-USE' data-address='7888'><span class='context-menu DVAL-USE' data-address='9328'>res</span></span> = <span class='context-menu DVAL-DEF' data-address='9328'>[</span><span class='context-menu DENV-USE' data-address='7888'><span class='context-menu DVAL-USE' data-address='9328'>res</span></span><span class='context-menu DVAL-DEF' data-address='9328'>]</span>;</span></td>
</tr><tr class='code'>
<td class='line'>150</td><td></td>
<td class='line'>163</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>151</td><td>        // Filter return</td>
<td class='line'>164</td><td><span class='context-menu CALL-USE' data-address='16320'>        // Filter return</span></td>
</tr><tr class='code'>
<td class='line'>152</td><td>        res.forEach(function(proc) {</td>
<td class='line'>165</td><td><span class='context-menu CALL-USE' data-address='16320'>        <span class='context-menu DENV-USE' data-address='7888'><span class='context-menu DVAL-USE' data-address='9328'>res</span></span>.<span class='context-menu DVAL-USE' data-address=''>forEach</span>(<span class='context-menu DVAL-DEF' data-address='9440'>function</span>(<span class='context-menu DENV-DEF' data-address='9456'><span class='context-menu DVAL-USE' data-address=''>proc</span></span>) {</span></td>
</tr><tr class='code'>
<td class='line'>153</td><td>          Common.printOut(cst.PREFIX_MSG + '[%s](%d) \u2713', proc.pm2_env ? proc.pm2_env.name : process_name, id);</td>
<td class='line'>166</td><td><span class='context-menu CALL-USE' data-address='16320'>          <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'>Common</span></span>.<span class='context-menu DVAL-USE' data-address=''>printOut</span>(<span class='context-menu DENV-USE' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>.<span class='context-menu DVAL-USE' data-address=''>PREFIX_MSG</span> + <span class='context-menu DVAL-DEF' data-address='9632'>'[%s](%d) \u2713'</span>, <span class='context-menu DENV-USE' data-address='9456'><span class='context-menu DVAL-USE' data-address=''>proc</span></span>.<span class='context-menu DVAL-USE' data-address=''>pm2_env</span> ? <span class='context-menu DENV-USE' data-address='9456'><span class='context-menu DVAL-USE' data-address=''>proc</span></span>.<span class='context-menu DVAL-USE' data-address=''>pm2_env</span>.<span class='context-menu DVAL-USE' data-address=''>name</span> : <span class='context-menu DENV-USE' data-address='5360'><span class='context-menu DVAL-USE' data-address='16400'><span class='context-menu VAL-USE' data-address='16400'>process_name</span></span></span>, <span class='context-menu DENV-USE' data-address='6528'><span class='context-menu DVAL-USE' data-address=''>id</span></span>);</span></td>
</tr><tr class='code'>
<td class='line'>154</td><td></td>
<td class='line'>167</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>155</td><td>          ret.push({</td>
<td class='line'>168</td><td><span class='context-menu CALL-USE' data-address='16320'>          <span class='context-menu DENV-USE' data-address='17648'><span class='context-menu DVAL-USE' data-address='17664'><span class='context-menu ENV-USE' data-address='17648'><span class='context-menu VAL-USE' data-address='17664'>ret</span></span></span></span>.<span class='context-menu DVAL-USE' data-address=''>push</span>(<span class='context-menu DVAL-DEF' data-address='9904'>{</span></span></td>
</tr><tr class='code'>
<td class='line'>156</td><td>            name         : proc.pm2_env.name,</td>
<td class='line'>169</td><td><span class='context-menu CALL-USE' data-address='16320'>            <span class='context-menu DENV-USE' data-address='-1012'><span class='context-menu DVAL-USE' data-address=''>name</span></span>         : <span class='context-menu DENV-USE' data-address='9456'><span class='context-menu DVAL-USE' data-address=''>proc</span></span>.<span class='context-menu DVAL-USE' data-address=''>pm2_env</span>.<span class='context-menu DVAL-USE' data-address=''>name</span>,</span></td>
</tr><tr class='code'>
<td class='line'>157</td><td>            pm_id        : proc.pm2_env.pm_id,</td>
<td class='line'>170</td><td><span class='context-menu CALL-USE' data-address='16320'>            <span class='context-menu DENV-USE' data-address='-1000'><span class='context-menu DVAL-USE' data-address=''>pm_id</span></span>        : <span class='context-menu DENV-USE' data-address='9456'><span class='context-menu DVAL-USE' data-address=''>proc</span></span>.<span class='context-menu DVAL-USE' data-address=''>pm2_env</span>.<span class='context-menu DVAL-USE' data-address=''>pm_id</span>,</span></td>
</tr><tr class='code'>
<td class='line'>158</td><td>            status       : proc.pm2_env.status,</td>
<td class='line'>171</td><td><span class='context-menu CALL-USE' data-address='16320'>            <span class='context-menu DENV-USE' data-address='-1014'><span class='context-menu DVAL-USE' data-address=''>status</span></span>       : <span class='context-menu DENV-USE' data-address='9456'><span class='context-menu DVAL-USE' data-address=''>proc</span></span>.<span class='context-menu DVAL-USE' data-address=''>pm2_env</span>.<span class='context-menu DVAL-USE' data-address=''>status</span>,</span></td>
</tr><tr class='code'>
<td class='line'>159</td><td>            restart_time : proc.pm2_env.restart_time,</td>
<td class='line'>172</td><td><span class='context-menu CALL-USE' data-address='16320'>            <span class='context-menu DENV-USE' data-address='-1007'><span class='context-menu DVAL-USE' data-address=''>restart_time</span></span> : <span class='context-menu DENV-USE' data-address='9456'><span class='context-menu DVAL-USE' data-address=''>proc</span></span>.<span class='context-menu DVAL-USE' data-address=''>pm2_env</span>.<span class='context-menu DVAL-USE' data-address=''>restart_time</span>,</span></td>
</tr><tr class='code'>
<td class='line'>160</td><td>            pm2_env : {</td>
<td class='line'>173</td><td><span class='context-menu CALL-USE' data-address='16320'>            <span class='context-menu DENV-USE' data-address='-1004'><span class='context-menu DVAL-USE' data-address=''>pm2_env</span></span> : <span class='context-menu DVAL-DEF' data-address='10400'>{</span></span></td>
</tr><tr class='code'>
<td class='line'>161</td><td>              name         : proc.pm2_env.name,</td>
<td class='line'>174</td><td><span class='context-menu CALL-USE' data-address='16320'>              <span class='context-menu DENV-USE' data-address='-1012'><span class='context-menu DVAL-USE' data-address=''>name</span></span>         : <span class='context-menu DENV-USE' data-address='9456'><span class='context-menu DVAL-USE' data-address=''>proc</span></span>.<span class='context-menu DVAL-USE' data-address=''>pm2_env</span>.<span class='context-menu DVAL-USE' data-address=''>name</span>,</span></td>
</tr><tr class='code'>
<td class='line'>162</td><td>              pm_id        : proc.pm2_env.pm_id,</td>
<td class='line'>175</td><td><span class='context-menu CALL-USE' data-address='16320'>              <span class='context-menu DENV-USE' data-address='-1000'><span class='context-menu DVAL-USE' data-address=''>pm_id</span></span>        : <span class='context-menu DENV-USE' data-address='9456'><span class='context-menu DVAL-USE' data-address=''>proc</span></span>.<span class='context-menu DVAL-USE' data-address=''>pm2_env</span>.<span class='context-menu DVAL-USE' data-address=''>pm_id</span>,</span></td>
</tr><tr class='code'>
<td class='line'>163</td><td>              status       : proc.pm2_env.status,</td>
<td class='line'>176</td><td><span class='context-menu CALL-USE' data-address='16320'>              <span class='context-menu DENV-USE' data-address='-1014'><span class='context-menu DVAL-USE' data-address=''>status</span></span>       : <span class='context-menu DENV-USE' data-address='9456'><span class='context-menu DVAL-USE' data-address=''>proc</span></span>.<span class='context-menu DVAL-USE' data-address=''>pm2_env</span>.<span class='context-menu DVAL-USE' data-address=''>status</span>,</span></td>
</tr><tr class='code'>
<td class='line'>164</td><td>              restart_time : proc.pm2_env.restart_time,</td>
<td class='line'>177</td><td><span class='context-menu CALL-USE' data-address='16320'>              <span class='context-menu DENV-USE' data-address='-1007'><span class='context-menu DVAL-USE' data-address=''>restart_time</span></span> : <span class='context-menu DENV-USE' data-address='9456'><span class='context-menu DVAL-USE' data-address=''>proc</span></span>.<span class='context-menu DVAL-USE' data-address=''>pm2_env</span>.<span class='context-menu DVAL-USE' data-address=''>restart_time</span>,</span></td>
</tr><tr class='code'>
<td class='line'>165</td><td>              env          : proc.pm2_env.env</td>
<td class='line'>178</td><td><span class='context-menu CALL-USE' data-address='16320'>              <span class='context-menu DENV-USE' data-address='-1006'><span class='context-menu DVAL-USE' data-address=''>env</span></span>          : <span class='context-menu DENV-USE' data-address='9456'><span class='context-menu DVAL-USE' data-address=''>proc</span></span>.<span class='context-menu DVAL-USE' data-address=''>pm2_env</span>.<span class='context-menu DVAL-USE' data-address=''>env</span></span></td>
</tr><tr class='code'>
<td class='line'>166</td><td>            }</td>
<td class='line'>179</td><td><span class='context-menu CALL-USE' data-address='16320'>            <span class='context-menu DVAL-DEF' data-address='10400'>}</span></span></td>
</tr><tr class='code'>
<td class='line'>167</td><td>          });</td>
<td class='line'>180</td><td><span class='context-menu CALL-USE' data-address='16320'>          <span class='context-menu DVAL-DEF' data-address='9904'>}</span>);</span></td>
</tr><tr class='code'>
<td class='line'>168</td><td>        });</td>
<td class='line'>181</td><td><span class='context-menu CALL-USE' data-address='16320'>        });</span></td>
</tr><tr class='code'>
<td class='line'>169</td><td></td>
<td class='line'>182</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>170</td><td>        return next();</td>
<td class='line'>183</td><td><span class='context-menu CALL-USE' data-address='16320'>        return <span class='context-menu DVAL-DEF' data-address='10992'><span class='context-menu DENV-USE' data-address='6544'><span class='context-menu DVAL-USE' data-address=''>next</span></span>()</span>;</span></td>
</tr><tr class='code'>
<td class='line'>171</td><td>      });</td>
<td class='line'>184</td><td><span class='context-menu CALL-USE' data-address='16320'>      });</span></td>
</tr><tr class='code'>
<td class='line'>172</td><td>    }, function(err) {</td>
<td class='line'>185</td><td><span class='context-menu CALL-USE' data-address='16320'>    }, <span class='context-menu DVAL-DEF' data-address='11024'>function</span>(<span class='context-menu DENV-DEF' data-address='11040'><span class='context-menu DVAL-USE' data-address=''>err</span></span>) {</span></td>
</tr><tr class='code'>
<td class='line'>173</td><td>      if (err) return cb ? cb(new Error(err)) : Common.exitCli(cst.ERROR_EXIT);</td>
<td class='line'>186</td><td><span class='context-menu CALL-USE' data-address='16320'>      if (<span class='context-menu DENV-USE' data-address='11040'><span class='context-menu DVAL-USE' data-address=''>err</span></span>) return <span class='context-menu DENV-USE' data-address='6128'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'>cb</span></span></span> ? <span class='context-menu DENV-USE' data-address='6128'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'><span class='context-menu DVAL-DEF' data-address='11168'>c</span>b</span></span></span>(new <span class='context-menu DENV-USE' data-address='-1005'><span class='context-menu DVAL-USE' data-address=''>Error</span></span>(<span class='context-menu DENV-USE' data-address='11040'><span class='context-menu DVAL-USE' data-address=''>err</span></span>)) : <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'><span class='context-menu DVAL-DEF' data-address='11280'>C</span>ommon</span></span>.<span class='context-menu DVAL-USE' data-address=''>exitCli</span>(<span class='context-menu DENV-USE' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>.<span class='context-menu DVAL-USE' data-address=''>ERROR_EXIT</span>);</span></td>
</tr><tr class='code'>
<td class='line'>174</td><td>      return cb ? cb(null, ret) : speedList();</td>
<td class='line'>187</td><td><span class='context-menu CALL-USE' data-address='16320'>      return <span class='context-menu DENV-USE' data-address='6128'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'>cb</span></span></span> ? <span class='context-menu DENV-USE' data-address='6128'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'><span class='context-menu DVAL-DEF' data-address='11456'>c</span>b</span></span></span>(<span class='context-menu DVAL-DEF' data-address='11488'>null</span>, <span class='context-menu DENV-USE' data-address='17648'><span class='context-menu DVAL-USE' data-address='17664'><span class='context-menu ENV-USE' data-address='17648'><span class='context-menu VAL-USE' data-address='17664'>ret</span></span></span></span>) : <span class='context-menu DENV-USE' data-address='-1010'><span class='context-menu DVAL-USE' data-address=''><span class='context-menu DVAL-DEF' data-address='11552'>s</span>peedList</span></span>();</span></td>
</tr><tr class='code'>
<td class='line'>175</td><td>    });</td>
<td class='line'>188</td><td><span class='context-menu CALL-USE' data-address='16320'>    });</span></td>
</tr><tr class='code'>
<td class='line'>176</td><td>  }</td>
<td class='line'>189</td><td><span class='context-menu CALL-USE' data-address='16320'>  }</span></td>
</tr><tr class='code'>
<td class='line'>177</td><td></td>
<td class='line'>190</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>178</td><td>  if (process_name == 'all') {</td>
<td class='line'>191</td><td><span class='context-menu CALL-USE' data-address='16320'>  if (<span class='context-menu DENV-USE' data-address='5360'><span class='context-menu DVAL-USE' data-address='16400'><span class='context-menu VAL-USE' data-address='16400'>process_name</span></span></span> == <span class='context-menu DVAL-DEF' data-address='11632'>'all'</span>) {</span></td>
</tr><tr class='code'>
<td class='line'>179</td><td>    Common.getAllProcessId(function(err, ids) {</td>
<td class='line'>192</td><td><span class='context-menu CALL-USE' data-address='16320'>    <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'>Common</span></span>.<span class='context-menu DVAL-USE' data-address=''>getAllProcessId</span>(<span class='context-menu DVAL-DEF' data-address='11744'>function</span>(<span class='context-menu DENV-DEF' data-address='11760'><span class='context-menu DVAL-USE' data-address=''>err</span></span>, <span class='context-menu DENV-DEF' data-address='11776'><span class='context-menu DVAL-USE' data-address=''>ids</span></span>) {</span></td>
</tr><tr class='code'>
<td class='line'>180</td><td>      if (err) {</td>
<td class='line'>193</td><td><span class='context-menu CALL-USE' data-address='16320'>      if (<span class='context-menu DENV-USE' data-address='11760'><span class='context-menu DVAL-USE' data-address=''>err</span></span>) {</span></td>
</tr><tr class='code'>
<td class='line'>181</td><td>        Common.printError(err);</td>
<td class='line'>194</td><td><span class='context-menu CALL-USE' data-address='16320'>        <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'>Common</span></span>.<span class='context-menu DVAL-USE' data-address=''>printError</span>(<span class='context-menu DENV-USE' data-address='11760'><span class='context-menu DVAL-USE' data-address=''>err</span></span>);</span></td>
</tr><tr class='code'>
<td class='line'>182</td><td>        return cb ? cb({msg:err}) : Common.exitCli(cst.ERROR_EXIT);</td>
<td class='line'>195</td><td><span class='context-menu CALL-USE' data-address='16320'>        return <span class='context-menu DENV-USE' data-address='5392'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'>cb</span></span></span> ? <span class='context-menu DENV-USE' data-address='5392'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'><span class='context-menu DVAL-DEF' data-address='12016'>c</span>b</span></span></span>(<span class='context-menu DVAL-DEF' data-address='12048'>{</span><span class='context-menu DENV-USE' data-address='-1001'><span class='context-menu DVAL-USE' data-address=''>msg</span></span>:<span class='context-menu DENV-USE' data-address='11760'><span class='context-menu DVAL-USE' data-address=''>err</span></span>}) : <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'><span class='context-menu DVAL-DEF' data-address='12144'>C</span>ommon</span></span>.<span class='context-menu DVAL-USE' data-address=''>exitCli</span>(<span class='context-menu DENV-USE' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>.<span class='context-menu DVAL-USE' data-address=''>ERROR_EXIT</span>);</span></td>
</tr><tr class='code'>
<td class='line'>183</td><td>      }</td>
<td class='line'>196</td><td><span class='context-menu CALL-USE' data-address='16320'>      }</span></td>
</tr><tr class='code'>
<td class='line'>184</td><td>      if (!ids || ids.length === 0) {</td>
<td class='line'>197</td><td><span class='context-menu CALL-USE' data-address='16320'>      if (!<span class='context-menu DENV-USE' data-address='11776'><span class='context-menu DVAL-USE' data-address=''>ids</span></span> || <span class='context-menu DENV-USE' data-address='11776'><span class='context-menu DVAL-USE' data-address=''>ids</span></span>.<span class='context-menu DVAL-USE' data-address=''>length</span> === <span class='context-menu DVAL-DEF' data-address='12384'>0</span>) {</span></td>
</tr><tr class='code'>
<td class='line'>185</td><td>        Common.printError(cst.PREFIX_MSG_WARNING + 'No process found');</td>
<td class='line'>198</td><td><span class='context-menu CALL-USE' data-address='16320'>        <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'>Common</span></span>.<span class='context-menu DVAL-USE' data-address=''>printError</span>(<span class='context-menu DENV-USE' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>.<span class='context-menu DVAL-USE' data-address=''>PREFIX_MSG_WARNING</span> + <span class='context-menu DVAL-DEF' data-address='12560'>'No process found'</span>);</span></td>
</tr><tr class='code'>
<td class='line'>186</td><td>        return cb ? cb({ success : false, msg : 'process name not found'}) : Common.exitCli(cst.ERROR_EXIT);</td>
<td class='line'>199</td><td><span class='context-menu CALL-USE' data-address='16320'>        return <span class='context-menu DENV-USE' data-address='5392'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'>cb</span></span></span> ? <span class='context-menu DENV-USE' data-address='5392'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'><span class='context-menu DVAL-DEF' data-address='12640'>c</span>b</span></span></span>(<span class='context-menu DVAL-DEF' data-address='12672'>{</span> <span class='context-menu DENV-USE' data-address='-1011'><span class='context-menu DVAL-USE' data-address=''>success</span></span> : <span class='context-menu DVAL-DEF' data-address='12720'>false</span>, <span class='context-menu DENV-USE' data-address='-1001'><span class='context-menu DVAL-USE' data-address=''>msg</span></span> : <span class='context-menu DVAL-DEF' data-address='12768'>'process name not found'</span>}) : <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'><span class='context-menu DVAL-DEF' data-address='12816'>C</span>ommon</span></span>.<span class='context-menu DVAL-USE' data-address=''>exitCli</span>(<span class='context-menu DENV-USE' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>.<span class='context-menu DVAL-USE' data-address=''>ERROR_EXIT</span>);</span></td>
</tr><tr class='code'>
<td class='line'>187</td><td>      }</td>
<td class='line'>200</td><td><span class='context-menu CALL-USE' data-address='16320'>      }</span></td>
</tr><tr class='code'>
<td class='line'>188</td><td></td>
<td class='line'>201</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>189</td><td>      return processIds(ids, cb);</td>
<td class='line'>202</td><td><span class='context-menu CALL-USE' data-address='16320'>      return <span class='context-menu DENV-USE' data-address='6080'><span class='context-menu DVAL-USE' data-address='6080'>processIds</span></span>(<span class='context-menu DENV-USE' data-address='11776'><span class='context-menu DVAL-USE' data-address=''>ids</span></span>, <span class='context-menu DENV-USE' data-address='5392'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'>cb</span></span></span>);</span></td>
</tr><tr class='code'>
<td class='line'>190</td><td>    });</td>
<td class='line'>203</td><td><span class='context-menu CALL-USE' data-address='16320'>    });</span></td>
</tr><tr class='code'>
<td class='line'>191</td><td>  }</td>
<td class='line'>204</td><td><span class='context-menu CALL-USE' data-address='16320'>  }</span></td>
</tr><tr class='code'>
<td class='line'>192</td><td>  else if (isNaN(process_name)) {</td>
<td class='line'>205</td><td><span class='context-menu CALL-USE' data-address='16320'>  else if (<span class='context-menu DENV-USE' data-address='-1008'><span class='context-menu DVAL-USE' data-address=''>isNaN</span></span>(<span class='context-menu DENV-USE' data-address='5360'><span class='context-menu DVAL-USE' data-address='16400'><span class='context-menu VAL-USE' data-address='16400'>process_name</span></span></span>)) {</span></td>
</tr><tr class='code'>
<td class='line'>193</td><td></td>
<td class='line'>206</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>194</td><td>    /**</td>
<td class='line'>207</td><td><span class='context-menu CALL-USE' data-address='16320'>    /**</span></td>
</tr><tr class='code'>
<td class='line'>195</td><td>     * We can not stop or delete a module but we can restart it</td>
<td class='line'>208</td><td><span class='context-menu CALL-USE' data-address='16320'>     * We can not stop or delete a module but we can restart it</span></td>
</tr><tr class='code'>
<td class='line'>196</td><td>     * to refresh configuration variable</td>
<td class='line'>209</td><td><span class='context-menu CALL-USE' data-address='16320'>     * to refresh configuration variable</span></td>
</tr><tr class='code'>
<td class='line'>197</td><td>     */</td>
<td class='line'>210</td><td><span class='context-menu CALL-USE' data-address='16320'>     */</span></td>
</tr><tr class='code'>
<td class='line'>198</td><td>    var allow_module_restart = action_name == 'restartProcessId' ? true : false;</td>
<td class='line'>211</td><td><span class='context-menu CALL-USE' data-address='16320'>    var <span class='context-menu DENV-DEF' data-address='13120'><span class='context-menu DVAL-USE' data-address=''>allow_module_restart</span></span> = <span class='context-menu DENV-USE' data-address='5344'><span class='context-menu DVAL-USE' data-address='5024,16384'><span class='context-menu VAL-USE' data-address='5024,16384'>action_name</span></span></span> == <span class='context-menu DVAL-DEF' data-address='13184'>'restartProcessId'</span> ? <span class='context-menu DVAL-DEF' data-address='13200'>true</span> : <span class='context-menu DVAL-DEF' data-address='13216'>false</span>;</span></td>
</tr><tr class='code'>
<td class='line'>199</td><td></td>
<td class='line'>212</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>200</td><td>    Common.getProcessIdByName(process_name, allow_module_restart, function(err, ids) {</td>
<td class='line'>213</td><td><span class='context-menu CALL-USE' data-address='16320'>    <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'>Common</span></span>.<span class='context-menu DVAL-USE' data-address=''>getProcessIdByName</span>(<span class='context-menu DENV-USE' data-address='5360'><span class='context-menu DVAL-USE' data-address='16400'><span class='context-menu VAL-USE' data-address='16400'>process_name</span></span></span>, <span class='context-menu DENV-USE' data-address='13120'><span class='context-menu DVAL-USE' data-address=''>allow_module_restart</span></span>, <span class='context-menu DVAL-DEF' data-address='13344'>function</span>(<span class='context-menu DENV-DEF' data-address='13360'><span class='context-menu DVAL-USE' data-address=''>err</span></span>, <span class='context-menu DENV-DEF' data-address='13376'><span class='context-menu DVAL-USE' data-address=''>ids</span></span>) {</span></td>
</tr><tr class='code'>
<td class='line'>201</td><td>      if (err) {</td>
<td class='line'>214</td><td><span class='context-menu CALL-USE' data-address='16320'>      if (<span class='context-menu DENV-USE' data-address='13360'><span class='context-menu DVAL-USE' data-address=''>err</span></span>) {</span></td>
</tr><tr class='code'>
<td class='line'>202</td><td>        Common.printError(err);</td>
<td class='line'>215</td><td><span class='context-menu CALL-USE' data-address='16320'>        <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'>Common</span></span>.<span class='context-menu DVAL-USE' data-address=''>printError</span>(<span class='context-menu DENV-USE' data-address='13360'><span class='context-menu DVAL-USE' data-address=''>err</span></span>);</span></td>
</tr><tr class='code'>
<td class='line'>203</td><td>        return cb ? cb({msg:err}) : Common.exitCli(cst.ERROR_EXIT);</td>
<td class='line'>216</td><td><span class='context-menu CALL-USE' data-address='16320'>        return <span class='context-menu DENV-USE' data-address='5392'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'>cb</span></span></span> ? <span class='context-menu DENV-USE' data-address='5392'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'><span class='context-menu DVAL-DEF' data-address='13616'>c</span>b</span></span></span>(<span class='context-menu DVAL-DEF' data-address='13648'>{</span><span class='context-menu DENV-USE' data-address='-1001'><span class='context-menu DVAL-USE' data-address=''>msg</span></span>:<span class='context-menu DENV-USE' data-address='13360'><span class='context-menu DVAL-USE' data-address=''>err</span></span>}) : <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'><span class='context-menu DVAL-DEF' data-address='13744'>C</span>ommon</span></span>.<span class='context-menu DVAL-USE' data-address=''>exitCli</span>(<span class='context-menu DENV-USE' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>.<span class='context-menu DVAL-USE' data-address=''>ERROR_EXIT</span>);</span></td>
</tr><tr class='code'>
<td class='line'>204</td><td>      }</td>
<td class='line'>217</td><td><span class='context-menu CALL-USE' data-address='16320'>      }</span></td>
</tr><tr class='code'>
<td class='line'>205</td><td>      if (!ids || ids.length === 0) {</td>
<td class='line'>218</td><td><span class='context-menu CALL-USE' data-address='16320'>      if (!<span class='context-menu DENV-USE' data-address='13376'><span class='context-menu DVAL-USE' data-address=''>ids</span></span> || <span class='context-menu DENV-USE' data-address='13376'><span class='context-menu DVAL-USE' data-address=''>ids</span></span>.<span class='context-menu DVAL-USE' data-address=''>length</span> === <span class='context-menu DVAL-DEF' data-address='13984'>0</span>) {</span></td>
</tr><tr class='code'>
<td class='line'>206</td><td>        Common.printError(cst.PREFIX_MSG_ERR + 'Process %s not found', process_name);</td>
<td class='line'>219</td><td><span class='context-menu CALL-USE' data-address='16320'>        <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'>Common</span></span>.<span class='context-menu DVAL-USE' data-address=''>printError</span>(<span class='context-menu DENV-USE' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>.<span class='context-menu DVAL-USE' data-address=''>PREFIX_MSG_ERR</span> + <span class='context-menu DVAL-DEF' data-address='14160'>'Process %s not found'</span>, <span class='context-menu DENV-USE' data-address='5360'><span class='context-menu DVAL-USE' data-address='16400'><span class='context-menu VAL-USE' data-address='16400'>process_name</span></span></span>);</span></td>
</tr><tr class='code'>
<td class='line'>207</td><td>        return cb ? cb({ success : false, msg : 'process name not found'}) : Common.exitCli(cst.ERROR_EXIT);</td>
<td class='line'>220</td><td><span class='context-menu CALL-USE' data-address='16320'>        return <span class='context-menu DENV-USE' data-address='5392'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'>cb</span></span></span> ? <span class='context-menu DENV-USE' data-address='5392'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'><span class='context-menu DVAL-DEF' data-address='14256'>c</span>b</span></span></span>(<span class='context-menu DVAL-DEF' data-address='14288'>{</span> <span class='context-menu DENV-USE' data-address='-1011'><span class='context-menu DVAL-USE' data-address='14336'>success</span></span> : <span class='context-menu DVAL-DEF' data-address='14336'>false</span>, <span class='context-menu DENV-USE' data-address='-1001'><span class='context-menu DVAL-USE' data-address='14384'>msg</span></span> : <span class='context-menu DVAL-DEF' data-address='14384'>'process name not found'</span>}) : <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'><span class='context-menu DVAL-DEF' data-address='14432'>C</span>ommon</span></span>.<span class='context-menu DVAL-USE' data-address=''>exitCli</span>(<span class='context-menu DENV-USE' data-address='1088'><span class='context-menu DVAL-USE' data-address='1104'>cst</span></span>.<span class='context-menu DVAL-USE' data-address=''>ERROR_EXIT</span>);</span></td>
</tr><tr class='code'>
<td class='line'>208</td><td>      }</td>
<td class='line'>221</td><td><span class='context-menu CALL-USE' data-address='16320'>      }</span></td>
</tr><tr class='code'>
<td class='line'>209</td><td></td>
<td class='line'>222</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>210</td><td>      /**</td>
<td class='line'>223</td><td><span class='context-menu CALL-USE' data-address='16320'>      /**</span></td>
</tr><tr class='code'>
<td class='line'>211</td><td>       * Determine if the process to restart is a module</td>
<td class='line'>224</td><td><span class='context-menu CALL-USE' data-address='16320'>       * Determine if the process to restart is a module</span></td>
</tr><tr class='code'>
<td class='line'>212</td><td>       * if yes load configuration variables and merge with the current environment</td>
<td class='line'>225</td><td><span class='context-menu CALL-USE' data-address='16320'>       * if yes load configuration variables and merge with the current environment</span></td>
</tr><tr class='code'>
<td class='line'>213</td><td>       */</td>
<td class='line'>226</td><td><span class='context-menu CALL-USE' data-address='16320'>       */</span></td>
</tr><tr class='code'>
<td class='line'>214</td><td>      var additional_env = Modularizer.getAdditionalConf(process_name);</td>
<td class='line'>227</td><td><span class='context-menu CALL-USE' data-address='16320'>      var <span class='context-menu DENV-DEF' data-address='14576'><span class='context-menu DVAL-USE' data-address='14592'>additional_env</span></span> = <span class='context-menu DVAL-DEF' data-address='14592'><span class='context-menu DENV-USE' data-address='1664'><span class='context-menu DVAL-USE' data-address='1680'>Modularizer</span></span>.<span class='context-menu DVAL-USE' data-address=''>getAdditionalConf</span>(<span class='context-menu DENV-USE' data-address='5360'><span class='context-menu DVAL-USE' data-address='16400'><span class='context-menu VAL-USE' data-address='16400'>process_name</span></span></span>)</span>;</span></td>
</tr><tr class='code'>
<td class='line'>215</td><td>      util._extend(envs, additional_env);</td>
<td class='line'>228</td><td><span class='context-menu CALL-USE' data-address='16320'>      <span class='context-menu DENV-USE' data-address='704'><span class='context-menu DVAL-USE' data-address='720'>util</span></span>.<span class='context-menu DVAL-USE' data-address=''>_extend</span>(<span class='context-menu DENV-USE' data-address='5376'><span class='context-menu DVAL-USE' data-address='6000,5824,5584,16416'><span class='context-menu VAL-USE' data-address='6000,5824,5584,16416'>envs</span></span></span>, <span class='context-menu DENV-USE' data-address='14576'><span class='context-menu DVAL-USE' data-address='14592'>additional_env</span></span>);</span></td>
</tr><tr class='code'>
<td class='line'>216</td><td></td>
<td class='line'>229</td><td><span class='context-menu CALL-USE' data-address='16320'></span></td>
</tr><tr class='code'>
<td class='line'>217</td><td>      return processIds(ids, cb);</td>
<td class='line'>230</td><td><span class='context-menu CALL-USE' data-address='16320'>      return <span class='context-menu DENV-USE' data-address='6080'><span class='context-menu DVAL-USE' data-address='6080'>processIds</span></span>(<span class='context-menu DENV-USE' data-address='13376'><span class='context-menu DVAL-USE' data-address=''>ids</span></span>, <span class='context-menu DENV-USE' data-address='5392'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'>cb</span></span></span>);</span></td>
</tr><tr class='code'>
<td class='line'>218</td><td>    });</td>
<td class='line'>231</td><td><span class='context-menu CALL-USE' data-address='16320'>    });</span></td>
</tr><tr class='code'>
<td class='line'>219</td><td>  } else {</td>
<td class='line'>232</td><td><span class='context-menu CALL-USE' data-address='16320'>  } else {</span></td>
</tr><tr class='code'>
<td class='line'>220</td><td>    // Check if application name as number is an app name</td>
<td class='line'>233</td><td><span class='context-menu CALL-USE' data-address='16320'>    // Check if application name as number is an app name</span></td>
</tr><tr class='code'>
<td class='line'>221</td><td>    Common.getProcessIdByName(process_name, function(err, ids) {</td>
<td class='line'>234</td><td><span class='context-menu CALL-USE' data-address='16320'>    <span class='context-menu DENV-USE' data-address='1280'><span class='context-menu DVAL-USE' data-address='1296'>Common</span></span>.<span class='context-menu DVAL-USE' data-address=''>getProcessIdByName</span>(<span class='context-menu DENV-USE' data-address='5360'><span class='context-menu DVAL-USE' data-address='16400'><span class='context-menu VAL-USE' data-address='16400'>process_name</span></span></span>, <span class='context-menu DVAL-DEF' data-address='14976'>function</span>(<span class='context-menu DENV-DEF' data-address='14992'><span class='context-menu DVAL-USE' data-address=''>err</span></span>, <span class='context-menu DENV-DEF' data-address='15008'><span class='context-menu DVAL-USE' data-address=''>ids</span></span>) {</span></td>
</tr><tr class='code'>
<td class='line'>222</td><td>      if (ids.length > 0)</td>
<td class='line'>235</td><td><span class='context-menu CALL-USE' data-address='16320'>      if (<span class='context-menu DENV-USE' data-address='15008'><span class='context-menu DVAL-USE' data-address=''>ids</span></span>.<span class='context-menu DVAL-USE' data-address=''>length</span> > <span class='context-menu DVAL-DEF' data-address='15120'>0</span>)</span></td>
</tr><tr class='code'>
<td class='line'>223</td><td>        return processIds(ids, cb);</td>
<td class='line'>236</td><td><span class='context-menu CALL-USE' data-address='16320'>        return <span class='context-menu DENV-USE' data-address='6080'><span class='context-menu DVAL-USE' data-address='6080'>processIds</span></span>(<span class='context-menu DENV-USE' data-address='15008'><span class='context-menu DVAL-USE' data-address=''>ids</span></span>, <span class='context-menu DENV-USE' data-address='5392'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'>cb</span></span></span>);</span></td>
</tr><tr class='code'>
<td class='line'>224</td><td>      // Else operate on pm id</td>
<td class='line'>237</td><td><span class='context-menu CALL-USE' data-address='16320'>      // Else operate on pm id</span></td>
</tr><tr class='code'>
<td class='line'>225</td><td>      return processIds([process_name], cb);</td>
<td class='line'>238</td><td><span class='context-menu CALL-USE' data-address='16320'>      return <span class='context-menu DENV-USE' data-address='6080'><span class='context-menu DVAL-USE' data-address='6080'>processIds</span></span>(<span class='context-menu DVAL-DEF' data-address='15264'>[</span><span class='context-menu DENV-USE' data-address='5360'><span class='context-menu DVAL-USE' data-address='16400'><span class='context-menu VAL-USE' data-address='16400'>process_name</span></span></span><span class='context-menu DVAL-DEF' data-address='15264'>]</span>, <span class='context-menu DENV-USE' data-address='5392'><span class='context-menu DVAL-USE' data-address='5584,16416'><span class='context-menu VAL-USE' data-address='5584,16416'>cb</span></span></span>);</span></td>
</tr><tr class='code'>
<td class='line'>226</td><td>    });</td>
<td class='line'>239</td><td><span class='context-menu CALL-USE' data-address='16320'>    });</span></td>
</tr><tr class='code'>
<td class='line'>227</td><td>  }</td>
<td class='line'>240</td><td><span class='context-menu CALL-USE' data-address='16320'>  }</span></td>
</tr><tr class='code'>
<td class='line'>228</td><td>};</td>
<td class='line'>241</td><td><span class='context-menu CALL-USE' data-address='16320'>}</span>;</td>
</tr></tbody>
</table>
<script type='text/javascript' src='./resources/main.js'></script>
</body>
</html>